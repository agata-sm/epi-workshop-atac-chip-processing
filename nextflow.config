// nf-core label resource requirements
// check_max function removed for now.

process {

    cpus   = 1
    memory = 6.GB
    time   = 4.h

    withLabel: small {
        cpus   = 2
        memory = 12.GB
        time   = 4.h
    }
    withLabel: mid_mem {
        cpus   = 6
        memory = 36.GB
        time   = 24.h
    }
    withLabel: big_mem {
        cpus   = 12
        memory = 72.GB
        time   = 6.h
    }
    withLabel: big_mem2 {
        memory = 200.GB
    }
}


includeConfig 'configs/rackham.config'


profiles {

    local { //define local settings depending on the system
        process {
            executor = 'local'
            cpus = 1
        }
    }

    // Profiles for the Uppmax clusters
    rackham {
        includeConfig 'configs/rackham.config'
    }

    // A profile for running locally with Singularity
    // (e.g., using an interactive Uppmax session)
    rackham_local {
        process {
            executor       = 'local'
            scratch        = '$SNIC_TMP'
        }
        singularity {
            enabled
            envWhitelist   = 'SNIC_TMP'
        }
    }

}


includeConfig 'configs/rackham.config'

includeConfig 'configs/modules.config'



timeline {
    enabled = true
    overwrite = true
    file = "$launchDir/execution/timeline.html"
}
report {
    enabled = true
    overwrite = true
    file = "$launchDir/execution/report.html"
}
trace {
    enabled = true
    overwrite = true
    file = "$launchDir/execution/trace.txt"
}


